% use mathbbm instead of the default mathbb
\renewcommand{\mathbb}[1]{\mathbbm{#1}}
\newcommand{\sr}{\ensuremath{r}}

%  for setting
\newcommand{\stub}{\emph{Stub.}}
\newcommand{\snote}[1]{\footnote{\emph{Bram: }#1}}
\newcommand{\emptypage}{
\vspace*{\fill}
\center{\emph{(Intentionally, no material on this page.)}}
\vspace*{\fill}
\vspace*{\fill}
\clearpage}

%  misc.
\newcommand{\keyword}[1]{\emph{#1}}
\newcommand{\htam}[1]{\ensuremath{\text{#1}}}
\newcommand{\frmd}[1]{\fbox{$ #1 $}}
\newcommand{\relnote}[2]{\ensuremath{\mathrel{\smash{%
		\stackrel{\scriptscriptstyle #2}{#1}}}}}
\newcommand{\relref}[2]{\relnote{#1}{\htam{\ref{#2}}}}
\newcommand{\isref}[1]{\relref{=}{#1}}

% environments
\renewenvironment{proof}{%
	\ifdim\lastskip<1em\removelastskip\vskip0.3em\fi%
	\par\penalty-100{%
	\noindent%
	\textbf{Proof\ }}%
	\noindent}%
	{\par\penalty-200\ifdim\lastskip<1em\removelastskip\vskip0.9em\fi}
\NewDocumentEnvironment{psec}{o m g}{%
	\IfNoValueTF{#1}{\refstepcounter{subsection}}{}%
	\ifdim\lastskip<1em\removelastskip\vskip1em\fi%
        \par\penalty-200{%
	\noindent%
        \makebox[0pt][r]{\makebox[.5in]{%
		\IfNoValueTF{#1}%
			{\the\value{section}.\the\value{subsection}}%
			{\ref{#1}}}}%
	\IfNoValueTF{#3}{}{\textbf{{#3}}\ }%
	\IfNoValueTF{#2}{}{\label{#2}}%
        \noindent}}%
        {\par\penalty-200\ifdim\lastskip<1em\removelastskip\vskip0.9em\fi}
\newcommand\statement[1]{\emph{#1}}
\NewDocumentEnvironment{psec*}{g}{%
        \par\penalty-200\ifdim\lastskip<1em\removelastskip\vskip1em\fi%
        \noindent%
	\IfNoValueTF{#1}{}{\textbf{{#1}}\ }}
        {\par\penalty-200\ifdim\lastskip<1em\removelastskip\vskip0.9em\fi}
\newcommand\xqed{\  $\blacksquare$}  % \qed is already defined

%  new symbols  (due to Bas Westerbaan)
\newcommand\lbb{\mathchoice{[\kern-1.42pt[}% 
                    {[\kern-1.42pt[}% 
                    {[\kern-1.2pt[}% 
                    {[\kern-1.15pt[}} 
\newcommand\rbb{\mathchoice{]\kern-1.42pt]}% 
                    {]\kern-1.42pt]}% 
                    {]\kern-1.2pt]}% 
                    {]\kern-1.15pt]}}

%  common notation
\newcommand{\eset}{\ensuremath{\varnothing}}
\newcommand{\N}{\ensuremath{\mathbb{N}}}
\newcommand{\R}{\ensuremath{\mathbb{R}}}
\newcommand{\cseq}{\ensuremath{\mathsf{c}}}  % convergent sequences
\newcommand{\ra}{\ensuremath{\rightarrow}}
\newcommand{\SpaceOp}[1]{\ensuremath{\mathrm{#1}}}
\newcommand{\Cont}[1]{\ensuremath{\SpaceOp{C}(#1)}}
\newcommand{\BCont}[1]{\ensuremath{\SpaceOp{BC}(#1)}}
\newcommand{\Mod}{\ensuremath{\SpaceOp{Mod}}}
\newcommand{\BA}{\ensuremath{\SpaceOp{BA}}}
\newcommand{\clopen}{\ensuremath{\SpaceOp{clopen}}}

% variation, see 1.8
\newcommand{\VarOp}{\ensuremath{\mathop{\mathrm{Var}}}}
\newcommand{\Var}[2]{\VarOp_{#1}#2}

% subtle setting matters
%   sets #1 left aligned in the box created by #2
\newcommand{\lsub}[2]{\mathrlap{#1}\phantom{#2}}

% Set list styles
\setenumerate[1]{ref=(\arabic*),label=(\arabic*),leftmargin=0pt,%
		 labelindent=0pt,labelsep=0pt,labelwidth=2em,itemindent=2em,%
		 align=left,itemsep=0.3em}
\setitemize[1]{leftmargin=0pt,%
		 labelindent=0pt,labelsep=0pt,labelwidth=1em,itemindent=2em,%
		 align=left, itemsep=0.3em}

