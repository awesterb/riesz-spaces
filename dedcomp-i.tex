\documentclass[main.tex]{subfiles}
\begin{document}
% 6
\section{Dedekind Completeness, I}
\begin{psec}{6.1}%
Let $X$ be a compact Hausdorff space
such that $\Cont{X}$ is Dedekind complete,
and let~$U$ be an open subset of~$X$.
\begin{enumerate}
\item\label{6.1-1}
The set
\begin{equation*}
F\ :=\ \bigl\{ f\in \Cont{X}\colon f\leq\mathbb{1}_U \bigr\}
\end{equation*}
is bounded from above by~$\mathbb{1}$,
hence has a supremum~$f_0$ in~$\Cont{X}$.
For every $a\in U$,
by Urysohn's Lemma
there is a continuous $f\colon X\ra [0,1]$
with $f(a)=1$, $f=0$ on~$X\backslash U$.
Then $f\in F$, so that $f\leq f_0$.
As, of course, $f_0\leq \mathbb{1}$
we find that $f_0=1$ on~$U$,
and, by continuity
\begin{equation*}
f_0=1\ \htam{ on }\ \overline{U}\htam{.}
\end{equation*}
%
\item\label{6.1-2}
Similarly, the set
\begin{equation*}
G\ :=\ \bigl\{g\in\Cont{X}\colon
 g\leq \mathbb{1}_{X\backslash\overline{U}} \bigr\}
\end{equation*}
has a supremum, $g_0$, in~$\Cont{X}$, with
\begin{equation*}
g_0=1\ \htam{ on }\ X\backslash\overline{U}\htam{.}
\end{equation*}
(Of course, $g_0=1$ on the closure of~$X\backslash \overline U$,
but we have no use for that.)
%
\item\label{6.1-3}
But:
If $f\in F$ and $g\in G$,
then $f+g\leq \mathbb{1}$.
Hence,
if $f\in F$,
then $\mathbb 1-f$ is an upper bound for~$G$,
whence $g_0\leq\mathbb 1-f$.

This, in turn,
implies that $\mathbb 1-g_0$ is an upper bound for~$F$, and
\begin{equation*}
f_0\ \leq\ \mathbb 1-g_0\htam{.}
\end{equation*}
%
\item\label{6.1-4}
Combining these results
(and noting that $f_0\geq 0$)
we see that~$f_0$ must be~${\mathbb 1}_{\overline U}$.
In particular,
$\mathbb{1}_{\overline U}$ must be continuous:
$\overline U$ is clopen.
\end{enumerate}
\end{psec}
%
%                  6.2
%
\begin{psec}{6.2}{Definition}
A compact Hausdorff space is
\keyword{extremally disconnected}
if the closure of every open set is clopen.

Extremally disconnected (compact Hausdorff) spaces are
zerodimensional;
the converse is very false.
(See exercise~\ref{6.3}.)

The Stone--\v{C}ech compactification of~$\N$
is extremally disconnected
since $\Cont{\beta\N}$ is Riesz isomorphic to~$\ell^\infty$.
(Closed subspaces of extremally disconnected spaces
may fail to be extremally disconnected.)
\end{psec}
%
%                  6.3
%
\begin{psec}{6.3}{Exercise}
\begin{enumerate}
\item\label{6.3-1}
Show that every extremally disconnected
compact Hausdorff space is zerodimensional. (See~\ref{3.17}.)
%
\item\label{6.3-2}
Let $X$ be the compact space
$\{0\}\cup\{1,\,\sfrac{1}{2},\,\sfrac{1}{3},\,\dotsc\}$.
Show that~$X$ is zerodimensional
but not extremally disconnected.
(Any relation with~\ref{4.20}\ref{4.20-1}?)
\end{enumerate}
\end{psec}
%
%                  6.4
%
\begin{psec}{6.4}{Exercise}
Let $X$ be a compact Hausdorff space.
\begin{enumerate}
\item\label{6.4-1}
Show that the following property of~$X$
is equivalent to extremal disconnectedness:
\vspace{.5em}
\begin{center}
\begin{minipage}{.45\textwidth}
If two open subsets of~$X$
are disjoint,
then so are their closures.
\end{minipage}
\end{center}
\vspace{.5em}
%
\item\label{6.4-2}
Assume that $X$ is, in fact, extremally disconnected.
Let $a\in X$ be so that the singleton set $\{a\}$ is not open;
then $X\backslash\{a\}$ is completely regular, not compact.
Show that, nevertheless,
all the continuous functions on $X\backslash\{a\}$ are bounded.
(A guideline:
Suppose $f\in\Cont{X\backslash\{a\}}^+$ is unbounded.
There exist $a_1,\,a_2,\,\dotsc$ in~$X\backslash\{a\}$
such that $f(a_{n+1})>1+f(a_n)$ for every~$n$.
There are disjoint open subsets $U,V$ of~$X\backslash\{a\}$
with $a_1,a_3,a_5,\dotsc\in U$
and $a_2,a_4,a_6,\dotsc\in V$.)
%
\item\label{6.4-3}
Again, assume that~$X$ is extremally disconnected
and that~$a$ is a non-isolated point of~$X$.
Let $f\in\Cont{X}$, $f(a)=0$.
Prove that~$f$ must take the value~$0$ at some point of~$X$,
different from~$a$.
%
\item\label{6.4-4}
Prove:
If~$X$ is extremally disconnected
and metrizable,
then~$X$ is finite.
\end{enumerate}
\end{psec}
%
%                  6.5
%
\begin{psec}{6.5}{Theorem}\statement{
Let~$X$ be a compact Hausdorff space.
Then $\Cont{X}$ is Dedekind complete
if and only if~$X$ is extremally disconnected.
}\end{psec}
\begin{proof}
The ``only if'' we have seen in~\ref{6.1}.
Now let~$X$ be extremally disconnected.
Let~$F$ be a nonempty subset of~$\Cont{X}^+$
that is bounded from above;
we show that it has a supremum.
Choose an upper bound~$f_0$ for~$F$.
(The following construction depends on the existence
of the upper bound, not on its values.)

Define $g\colon X\ra [0,\infty)$ by
\begin{equation*}
g(x)\ :=\ \sup_{f\in F} f(x)\qquad(x\in X)\htam{.}
\end{equation*}
For each~$s$ in~$(0,\infty)$
the set $\{x\colon g(x)>s\}$ is open, since
\begin{equation*}
\{x\colon g(x)>s\}\ =\ \bigcup_{f\in F} \{x\colon f(x)>s\}\htam{;}
\end{equation*}
let~$U_s$ be its closure.

This gives us a family $(U_s)_{s>0}$ of clopen sets, with
\begin{equation*}
s<t\quad\implies\quad U_s \supseteq U_t\htam{.}
\end{equation*}

For each~$s$ we have $f_0 > s$ on $\{x\colon g(x)>s\}$,
so that $f_0\geq s\,\mathbb{1}_{U_s}$
as~$f_0$ is continuous.
Thus, we can define $f_\infty\colon X\ra \R$ by
\begin{equation*}
f_\infty(x)\ 
:=\ \sup s\mathbb{1}_{U_s}(x)\ 
=\ \sup\{s\colon x\in U_s\}
\qquad(x\in X)\htam{.}
\end{equation*}
Then $g\leq f_\infty\leq f_0$ for any upper bound~$f_0$ of~$F$.
Therefore, $f_\infty$ will be the supremum of~$F$ in~$\Cont{X}$
if and only if it is continuous.
But the continuity of~$f_\infty$ follows from the formulas
\begin{align*}
\{ x\colon f_\infty(x)>t\}\ &=\ \bigcup_{s>t} U_s\htam{,}\\
\{ x\colon f_\infty(x)<t\}\ &=\ \bigcup_{s<t} X\backslash U_s\htam{.}
\end{align*}
The proof of the first formula is straightforward,
the proof of the second hinges on the implications
$f_\infty(x)<s\implies x\notin U_s \implies f_\infty(x)\leq s$. \xqed
\end{proof}
%
%                  6.6
%
\begin{psec}{6.6}{Exercise}
Let $X$ be a compact Hausdorff space.
Prove the equivalence of:
\begin{enumerate}[label=(\greek{*})]
\item\label{6.6-alpha}
$\Cont{X}$ is $\sigma$-Dedekind compltee.
%
\item\label{6.6-beta}
For every~$f$ in~$\Cont{X}^+$ the open set $\{x\colon f(x)>0\}$
has open closure.
%
\item\label{6.6-gamma}
If $f_1,f_2,\dotsc\in\Cont{X}^+$,
then $\bigcup\bigl\{x\colon f_n(x)>0\bigr\}$ has open closure.
\end{enumerate}

(\ref{6.6-gamma} follows from~\ref{6.6-beta},
e.g., via $f:=\sum f_n\wedge 2^{-n} \, \mathbb{1}$.\ )
\end{psec}
\begin{psec*}{Comment}
Property \ref{6.6-beta} 
is known as ``basic disconnectedness''.
It implies zerodimensionality.
\end{psec*}
%
%                  6.7
%
\begin{psec}{6.7}%
Let $X$ be a set, $\mathcal A$ an algebra of subsets of~$X$.
(See~\ref{1.1}\ref{1.1-4} for a definition.)
\begin{enumerate}
\item\label{6.7-1}
An $\mathcal A$-\keyword{step function}
is a function on~$X$,
representable as
\begin{equation*}
\sum_{n=1}^N \,\alpha_n \mathbb{1}_{A_n}
\end{equation*}
where $N\in\N$, $\alpha_1,\dotsc,\alpha_N\in\R$,
and $A_1,\dotsc,A_N$
are pairwise disjoint elements of~$\mathcal A$.
The $\mathcal A$-step functions form a Riesz space~$\lbb \mathcal A \rbb$
(\ref{1.5}\ref{1.5-7}).
%
\item\label{6.7-2}
We define
\begin{equation*}
\BLeb(\mathcal{A})
\end{equation*}
to be the closure of~$\lbb\mathcal A\rbb$ in~$\ell^\infty(X)$
(see~\ref{1.5}\ref{1.5-2}) relative to~$\|\cdot\|_\infty$.
A function $f\colon X\ra\R$ lies in~$\BLeb(\mathcal A)$
if and only if for every $\varepsilon>0$
there is an $\mathcal A$-step function~$h$
with $\|f-h\|_\infty\leq\varepsilon$.
This~$\BLeb(\mathcal A)$ is a Riesz subspace of~$\ell^\infty(X)$.
It has a unit, e.g., the function~$\mathbb{1}$.

(If~$\mathcal A$ is a $\sigma$-algebra,
$\BLeb(\mathcal A)$ is the space of
all bounded $\mathcal A$-measurable functions.)
\end{enumerate}
\end{psec}
%
%                  6.8
%
\begin{psec}{6.8}{Exercise}
\begin{enumerate}
\item\label{6.8-1}
Show that $\ell^\infty(X)$ is an $\BLeb(\mathcal A)$.
%
\item\label{6.8-2}
Prove:
If~$X$ is a zerodimensional compact Hausdorff space,
then
\begin{equation*}
\Cont{X}=\BLeb(\clopen(X))\htam{.}
\end{equation*}
\end{enumerate}
\end{psec}
%
%                  6.9
%
\begin{psec}{6.9}{Exercise}
Let $\mathcal A$ be an algebra of subsets of~$X$.
As a closed Riesz subspace of~$\ell^\infty(X)$
that contains~$\mathbb 1$, \ 
$\BLeb(\mathcal A)$ is unitary and uniformly complete,
hence Riesz isomorphic to some~$\Cont{\Phi}$,
according to Yosida.

Prove that~$\Phi$ is a Stone space for~$\mathcal A$~(\ref{3.19}).
\end{psec}
\clearpage
%
%                  6.10
%
\begin{psec}{6.10}{Theorem}\statement{
Let $\mathcal A$ be an algebra of subsets of a set~$X$
and let~$\mu$ be a nonnegative additive function $\mathcal A\ra \R$.
Then there is a unique linear function
\begin{equation*}
f\ \mapsto\ \int f\,\mathrm d\mu
\end{equation*}
on $\BLeb(\mathcal A)$ with the properties
\begin{equation*}
\left\{\quad
\begin{aligned}
\int \mathbb{1}_{A}\,\mathrm d\mu\ &=\ \mu(A)\qquad 
  &(A\in\mathcal A)\htam{,} \\
\int f\,\mathrm{d}\mu\ &\geq\ 0\qquad
  &\htam{if }f\geq 0\htam{.}
\end{aligned}
\right.
\end{equation*}
}\end{psec}
\begin{proof}
(inspired by the proof of~\ref{3.18}.)
\begin{enumerate}[label=(\Roman*)]
\item\label{6.10-I}
A ``partition'' here is a finite set of nonempty elements of~$\mathcal A$
whose union is~$X$.
A ``refinement'' of a partition is what you think it is.
For a partition~$S$ we denote by~$\lbb S\rbb$
the vector space of all functions $X\ra \R$
that are constant on each element of~$S$.
If~$T$ is a refinement of~$S$,
then $\lbb S \rbb \subseteq \lbb T \rbb$.
The union of all spaces~$\lbb S \rbb$ is precisely~$\lbb \mathcal A \rbb$,
the set of all $\mathcal{A}$-step~functions.

For $f\in\lbb A \rbb$ we define
\begin{equation*}
\int_S f\,\mathrm{d}\mu\ =\ \sum_{s\in S} \alpha_s\,\mu(s)
\quad\htam{ where }\quad f=\sum_{s\in S} \alpha_s \mathbb{1}_s\htam{.}
\end{equation*}
Then $\int_S \cdot\,\mathrm{d}\mu$ is a linear function $\lbb S \rbb \ra \R$.

Is $S$ a partition and~$T$ is a refinement of~$S$, then
\begin{alignat*}{2}
\int_T f\,\mathrm{d}\mu\ &=\ \int_S 
f\,\mathrm{d}\mu\qquad&(f\in \lbb S \rbb)\htam{.} \\
\intertext{(Here we use the additivity of~$\mu$.)
It follows that we can define a linear function $\int\cdot\,\mathrm d\mu$
on~$\lbb \mathcal A \rbb$ by}
\int f\,\mathrm{d}\mu\ &:=\ \int_S f\mathrm{d}\mu
 \qquad &\htam{ if } f\in\lbb S \rbb\htam{.}
\end{alignat*}
Observe that $\int \mathbb{1}_A\,\mathrm{d}\mu=\mu(A)
\quad(A\in\lbb \mathcal A \rbb)$,
and also that $\int f\,\mathrm{d}\mu\geq 0$
if $f\in\lbb\mathcal{A}\rbb^+$.
%
\item\label{6.10-II}
It follows that $\int\cdot\,\mathrm{d}\mu$ is increasing, so that
\begin{equation*}
\Bigl|\int f\,\mathrm{d}\mu\  -\int f\,\mathrm{d}\mu\  \Bigr|
\ \leq\ \int \bigl|f-g\bigr|\,\mathrm{d}\mu
\ \leq\ \|f-g\|_\infty \,\mu(X)\qquad(f,g\in\lbb \mathcal A \rbb)
\htam{,}
\end{equation*}
because $\pm(f-g)\leq|f-g|\leq\|f-g\|_\infty\,\mathbb{1}$.

Viewing $\BLeb(\mathcal A)$ as a metric space
under the metric derived from $\|\cdot\|_\infty$,
we see that~$\lbb\mathcal{A}\rbb$ is a dense subset
on which $\int\cdot\,\mathrm d\mu$ is a uniformly continuous function.
By the completeness of~$\R$,
this function extends uniquely to a continuous function
$\BLeb(\mathcal A)\ra \R$,
which we again denote by $\int\cdot\,\mathrm{d}\mu$.

Every element of $\BLeb(\mathcal A)$ being the $\|\cdot\|_\infty$-limit
of a sequence in~$\lbb\mathcal A\rbb$
one easily proves that $\int\cdot\,\mathrm d\mu$ is linear
and increasing on $\BLeb(\mathcal A)$.
%
\item\label{6.10-III}
The uniqueness is now clear. \xqed
\end{enumerate}
\end{proof}
%
%                  6.11
%
\begin{psec}{6.11}{Comments}
Farther on,
we will use some elementary properties of this intergral
without explicitly mentioning them.
This concerns in particular the following observations:
\begin{alignat}{2}
f\leq g\quad\implies\quad 
 &\int f\,\mathrm d\mu \ \leq\ \int g\,\mathrm d\mu\htam{,} \\
\Bigl| \int f\,\mathrm d\mu\ \Bigr|\ \quad\leq\ \quad
 &\int\bigl|f\bigr|\,\mathrm d\mu\htam{;}\\
\intertext{this follows from: $-|f|\leq f\leq |f|$.}
\Bigl| \int f\,\mathrm d\mu\ \Bigr|\ \quad\leq\ \quad
\|f\|_\infty\, \mu(X)\htam{.}
\end{alignat}
\end{psec}
%
%                  6.12
%
\begin{psec}{6.12}{Exercise}
Let $\mathcal A$ be an algebra of subsets of~$X$.
We are going to investigate the linear functions $\BLeb(\mathcal A)\ra \R$
that are continuous relative to 
the norm~$\|\cdot\|_\infty$ on $\BLeb(\mathcal A)$.
In the language of~\ref{5.1}\ref{5.1-2},
these linear functions form a vector space
$\Lin(\BLeb(\mathcal{A}),\R)$,
endowed with a norm~$\|\cdot\|$,
described by
\begin{equation*}
\|\varphi\|\ =\ \inf\bigl\{
c\in[0,\infty)\colon |\varphi(f)|\leq c\,\|f\|_\infty
\htam{ for all }f\htam{ in }\BLeb(\mathcal A)\bigr\}\htam{.}
\end{equation*}

In \ref{1.12} we have met the Riesz space $\BA(\mathcal A)$
of bounded additive functions $\mathcal A\ra\R$.
\begin{enumerate}
\item\label{6.12-1}
Prove that for every~$\mu$ in $\BA(\mathcal A)$
there is one linear function
$\varphi_\mu\colon \BLeb(\mathcal A)\ra \R$
with
\begin{equation*}
\left\{
\ 
\begin{aligned}
&\varphi_\mu(\mathbb{1}_A)\ =\ \mu(A)\qquad (A\in\mathcal A)\htam{,} \\
&\varphi_\mu\htam{ is continuous.}
\end{aligned}
\right.
\end{equation*}
(The existence is easy: $\mu=\mu^+-\mu^-$.)

Prove also:
\begin{equation*}
\|\varphi\|\ \leq\ \Var{}{\mu}\htam{.}
\end{equation*}
(See~\ref{1.8} for ``$\Var{}{}$''.)
%
\item\label{6.12-2}
Conversely,
let $\varphi\colon\BLeb(\mathcal A)\ra\R$ be linear and continuous.
Show that there exists one~$\mu$ in~$\BA(\mathcal A)$
with $\varphi=\varphi_\mu$,
and that $\Var{}{\mu}\leq\|\varphi\|$.
\end{enumerate}
\end{psec}
%
%                  6.13
%
\begin{psec}{6.13}%
Now assume that~$\mathcal A$ actually is a $\sigma$-algebra.
(For the moment,
no~$\mu$ is given:
we investigate~$\BLeb(\mathcal A)$.)
\begin{enumerate}
\item\label{6.13-1}
Let $f\in \BLeb(\mathcal A)$ and $s\in\R$.
Then the set $\bigl\{x\colon f(x)>s\bigr\}$ lies in~$\mathcal A$.
Proof:\ 
For each~$n$ there is an $\mathcal A$-step function~$f_n$
with $f-n^{-1}\mathbb{1}\leq f_n\leq f$.
Then
\begin{equation*}
\bigl\{ x\colon f(x)>s\bigr\}\ =\ 
\,{\bigcup}_n \bigl\{x\colon f_n(x)>s\bigr\}\htam{.}
\end{equation*}
Thus, $\bigl\{ x\colon f(x)>s\bigr\}$ is
a union of countably many elements of~$\mathcal A$.
%
\item\label{6.13-2}
Conversely,
let~$f$ be a bounded function on~$X$
such that $\bigl\{x\colon f(x)>s\bigr\}\in\mathcal A$
for every $s\in\R$.
Let $\varepsilon>0$;
we make an $\mathcal A$-step function~$h$ with 
$\|f-h\|_\infty \leq\varepsilon$.

Choose $s_0<s_1<\dotsb<s_N$ in~$\R$
so that all values of~$f$ lie in the interval $(s_0,s_N)$,
whereas $s_n<s_{n-1}+\varepsilon\quad(n=1,\dotsc,N)$.
Set
\begin{equation*}
A_n\ :=\ \bigl\{x\colon f(x)>s_n\bigr\}\,\backslash\,
  \bigl\{x\colon f(x)>s_{n-1}\bigr\}
\qquad (n=1,\dotsc,N)
\end{equation*}
and take
\begin{equation*}
h\ =\ \sum_{n=1}^N\,s_n\,\mathbb{1}_{A_n}\htam{.}
\end{equation*}
\end{enumerate}
\end{psec}
%
%                  6.14
%
\begin{psec}{6.14}{Theorem}\statement{
Let $\mathcal A$ be a $\sigma$-algebra in a set~$X$.
Then $\BLeb(\mathcal A)$ is $\sigma$-Dedekind complete.
More than that:
If $\{f_1,f_2,\dotsc\}$ is a countable subset of~$\BLeb(\mathcal A)$,
bounded from above,
then the function
\begin{equation*}
f\colon x\mapsto \sup_n f_n(x)\qquad(x\in X)
\end{equation*}
is the supremum of $\{f_1,f_2,\dotsc\}$ in the
Riesz space~$\BLeb(\mathcal A)$.
}\end{psec}
\begin{proof}
For every $s$ in~$\R$ we have
\begin{equation*}
\bigl\{x\colon f(x)>s\bigr\}\ =\ 
  {\bigcup}_n\bigl\{x\colon f_n(x)>s\bigr\}\in\mathcal{A}\htam{.}
\end{equation*}
It follows from~\ref{6.13} that
$f\in\BLeb(\mathcal A)$.
The rest is obvious. \xqed
\end{proof}
\end{document}
